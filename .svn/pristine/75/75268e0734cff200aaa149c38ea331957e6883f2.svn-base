#!/bin/bash
FQA_TRUNK_DIR=~/fqa/trunk
PATH_FQA_TEST_SCRIPT=~/fqa/trunk/fqa_test_script

GREEN='\033[1;32m'
RED='\033[1;31m'
NC='\033[0m'

INPUT=$1
OPTION=$2

$PATH_FQA_TEST_SCRIPT/get_fw_info.sh

ulimit -c unlimited

if [ $INPUT == $NULL ]; then
	echo -e "${GREEN}[ Input Test Script No. ]${NC}"
	echo "      1. : ns16_30m.sh"
	echo "      2. : ns16_1hr.sh"
	echo "      3. : ns16_3hr.sh"
	echo "      4. : ns16_6hr.sh"
	echo "      5. : ns16_12hr.sh"
	echo "      6. : ns16_18hr.sh"
	echo "      7. : ns16_24hr.sh"
	echo "      8. : ns16_36hr.sh"
	echo "      9. : ns16_48hr.sh"
	echo "     10. : ns16_72hr.sh"
	echo "     11. : longrun_45m"
	echo "     12. : longrun_1hr"
	echo "     13. : longrun_3hr"
	echo "     14. : longrun_6hr"
	echo "     15. : longrun_12hr"
	echo "     16. : longrun_18hr"
	echo "     17. : longrun_24hr"
	echo "     18. : longrun_36hr"
	echo "     19. : longrun_48hr"
	echo "     20. : longrun_72hr"
	echo "     21. : single_72hr+multi_72hr"
	echo "     22. : single_144hr+multi_144hr"
	echo -e "${GREEN}Input> ${NC}"
	read INPUT
fi

if [ $OPTION == $NULL ]; then
	if [ $INPUT -ge 11 ] && [ $INPUT -lt 21 ]; then
		echo -e "${GREEN}[ Single Namespace Option ]${NC}"
		echo "     1. : 4KB"
		echo "     2. : 512B"
		echo "     3. : 4KB	+ 8B separted buffer"
		echo "     4. : 512KB	+ 8B separted buffer"
		echo "     5. : 4KB	+ 8B separted buffer, data protection type 1"
		echo "     6. : 512KB	+ 8B separted buffer, data protection type 1"
		echo "     7. : 4KB	+ 8B separted buffer, data protection type 2"
		echo "     8. : 512KB	+ 8B separted buffer, data protection type 2"
		echo -e "${GREEN}Option> ${NC}"
		read OPTION
	fi
fi



# $PATH_FQA_TEST_SCRIPT/factory_reset.sh


cd $FQA_TRUNK_DIR
source source.bash
./setup.sh


cd ./io
case $INPUT in
	1)
		echo -e "${RED}[ns16_30m.sh Run!]${NC}"
		./setup_ns16
		./ns16_30m.sh
		;;
	2)
		echo -e "${RED}[ns16_1hr.sh Run!]${NC}"
		./setup_ns16
		./ns16_1hr.sh
		;;
	3)
		echo -e "${RED}[ns16_3hr.sh Run!]${NC}"
		./setup_ns16
		./ns16_3hr.sh
		;;
	4)
		echo -e "${RED}[ns16_6hr.sh Run!]${NC}"
		./setup_ns16
		./ns16_6hr.sh
		;;
	5)
		echo -e "${RED}[ns16_12hr.sh Run!]${NC}"
		./setup_ns16
		./ns16_12hr.sh
		;;
	6)
		echo -e "${RED}[ns16_18hr.sh Run!]${NC}"
		./setup_ns16
		./ns16_18hr.sh
		;;
	7)
		echo -e "${RED}[ns16_24hr.sh Run!]${NC}"
		./setup_ns16
		./ns16_24hr.sh
		;;
	8)
		echo -e "${RED}[ns16_36hr.sh Run!]${NC}"
		./setup_ns16
		./ns16_36hr.sh
		;;
	9)
		echo -e "${RED}[ns16_48hr.sh Run!]${NC}"
		./setup_ns16
		./ns16_48hr.sh
		;;
	10)
		echo -e "${RED}[ns16_72hr.sh Run!]${NC}"
		./setup_ns16
		./ns16_72hr.sh
		;;
	11)
		echo -e "${RED}[longrun_45m.sh Run!]${NC}"
		./setup_single_ns $OPTION
		./longrun_45m
		;;
	12)
		echo -e "${RED}[longrun_1hr.sh Run!]${NC}"
		./setup_single_ns $OPTION
		./longrun_1hr
		;;
	13)
		echo -e "${RED}[longrun_3hr.sh Run!]${NC}"
		./setup_single_ns $OPTION
		./longrun_3hr
		;;
	14)
		echo -e "${RED}[longrun_6hrsh Run!]${NC}"
		./setup_single_ns $OPTION
		./longrun_6hr
		;;
	15)
		echo -e "${RED}[longrun_12hr.sh Run!]${NC}"
		./setup_single_ns $OPTION
		./longrun_12hr
		;;
	16)
		echo -e "${RED}[longrun_18hr.sh Run!]${NC}"
		./setup_single_ns $OPTION
		./longrun_18hr
		;;
	17)
		echo -e "${RED}[longrun_24hr.sh Run!]${NC}"
		./setup_single_ns $OPTION
		./longrun_24hr
		;;
	18)
		echo -e "${RED}[longrun_36hr.sh Run!]${NC}"
		./setup_single_ns $OPTION
		./longrun_36hr
		;;
	19)
		echo -e "${RED}[longrun_48hr+1hr.sh Run!]${NC}"
		./setup_single_ns $OPTION
		./longrun_48hr
		;;
	20)
		echo -e "${RED}[longrun_72hr.sh Run!]${NC}"
		./setup_single_ns $OPTION
		./longrun_72hr
		;;
	21)
		echo -e "${RED}[single_72hr+multi_72hr.sh Run!]${NC}"
		./single_72hr+multi_72hr.sh
		;;
	22)
		echo -e "${RED}[single_144hr+multi_144hr.sh Run!]${NC}"
		./single_144hr+multi_144hr.sh
		;;

esac


$PATH_FQA_TEST_SCRIPT/send_current_status.sh "Function Test Pass"
